<div class="upload-container">
  <div class="upload-form">
    <div class="file-input">
      <input type="file" accept="image/*" (change)="onFileSelected($event)" #fileInput hidden>
      <button type="button" mat-raised-button color="primary" (click)="fileInput.click()">
        <mat-icon>cloud_upload</mat-icon> Select Image
      </button>
      <span class="file-name" *ngIf="selectedFile">{{ selectedFile.name }}</span>
    </div>

    <div class="upload-options" *ngIf="selectedFile">
      <mat-checkbox [formControl]="isDefaultControl" color="primary">
        Set as default image
      </mat-checkbox>

      <button mat-raised-button color="accent" [disabled]="isUploading" (click)="uploadImage()">
        <mat-spinner *ngIf="isUploading" diameter="20"></mat-spinner>
        <span *ngIf="!isUploading">Upload</span>
      </button>
    </div>
  </div>

  <div class="preview-container" *ngIf="previewUrl">
    <img [src]="previewUrl" alt="Preview">
    <button mat-icon-button color="warn" class="remove-preview" (click)="resetFileInput()">
      <mat-icon>close</mat-icon>
    </button>
  </div>
</div>
